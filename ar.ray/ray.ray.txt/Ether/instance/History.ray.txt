//Need to have a lower-bound against the upper-bound of repository: For instance not individual bits of characters in a string.
//EXPANSION TO MORE DETAIL (so lowerlevel is optional, and possibly generative, say it's on 400's entry, we dont go there emmediately, but when accessing the 400's entry, we check the main repository.
//For the intermediate steps it'/s the reverse, more effective tos tore the lowerlevel, and generate the higher-level
// Have the optmization decide what to do.
//The .expands/.collapse disconnects entirely from the original graph, there's no good way to overlay them<,jjjjjjjjjjjjjjjjjj
//At which level of description to save a change, on the graph, or on the boundary which changed.
+def Node
  history: History = History(this)
  def % = history

  as (== Version) => %.
end

class History = Ray
  //TODO = Program
  //TODO diff

  static Version | Commit = static +def Vertex
    //TODO .expand Graph<Commit>.acyclic
  end
  Vertex.name |= "Commit"
  static Branch = static +def Edge
  end

  // A repository is simply a global order of local commits.
  static class Repository = History
    tag: { `*`: Commit } = {}
    branch: { `*`: Branch } = {} //TODO Filter over edges in structure with name == name, where we ignore default object names. Or search for names with issued_by = this repository.

  end
end