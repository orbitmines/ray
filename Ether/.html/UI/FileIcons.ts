// ============================================================
// FileIcons.ts â€” SVG icon map by file extension
// ============================================================

const svg = (body: string, color: string) =>
  `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="16" height="16" fill="${color}">${body}</svg>`;

const FOLDER = svg(
  `<path d="M1.5 1A1.5 1.5 0 000 2.5v11A1.5 1.5 0 001.5 15h13a1.5 1.5 0 001.5-1.5V4.5A1.5 1.5 0 0014.5 3H7.71L6.15 1.44A1.5 1.5 0 005.06 1H1.5z"/>`,
  '#8da0cb'
);

const FILE_GENERIC = svg(
  `<path d="M3.5 1A1.5 1.5 0 002 2.5v11A1.5 1.5 0 003.5 15h9a1.5 1.5 0 001.5-1.5V6l-4.5-5H3.5zM10 1.5L13.5 5.5H10.5A.5.5 0 0110 5V1.5z"/>`,
  '#8b8b8b'
);

const icons: Record<string, string> = {
  md: svg(
    `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><!--!Font Awesome Free v7.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2026 Fonticons, Inc.--><path d="M593.8 123.1L46.2 123.1C20.7 123.1 0 143.8 0 169.2L0 470.7C0 496.2 20.7 516.9 46.2 516.9L593.9 516.9C619.4 516.9 640.1 496.2 640 470.8L640 169.2C640 143.8 619.3 123.1 593.8 123.1zM338.5 424.6L277 424.6L277 304.6L215.5 381.5L154 304.6L154 424.6L92.3 424.6L92.3 215.4L153.8 215.4L215.3 292.3L276.8 215.4L338.3 215.4L338.3 424.6L338.5 424.6zM473.8 427.7L381.5 320L443 320L443 215.4L504.5 215.4L504.5 320L566 320L473.8 427.7z"/></svg>`,
    '#519aba'
  ),
  ts: svg(
    `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><!--!Font Awesome Free v7.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2026 Fonticons, Inc.--><path d="M112.8 96L527.2 96C536.5 96 544 103.5 544 112.8L544 527.2C544 536.5 536.5 544 527.2 544L112.8 544C103.5 544 96 536.5 96 527.2L96 112.8C96 103.5 103.5 96 112.8 96zM345 334.3L345 297.6L185.6 297.6L185.6 334.3L242.5 334.3L242.5 497.9L287.8 497.9L287.8 334.3L345 334.3zM363.1 493.6C370.4 497.3 379 500.1 389 502C399 503.9 409.5 504.8 420.5 504.8C431.3 504.8 441.5 503.8 451.2 501.7C460.9 499.6 469.4 496.3 476.7 491.6C484 486.9 489.8 480.7 494.1 473.2C498.4 465.7 500.5 456.2 500.5 445C500.5 436.9 499.3 429.8 496.8 423.7C494.3 417.6 490.9 412.2 486.3 407.4C481.7 402.6 476.2 398.4 469.8 394.6C463.4 390.8 456.1 387.3 448.1 383.9C442.2 381.5 436.9 379.1 432.2 376.8C427.5 374.5 423.5 372.2 420.3 369.8C417.1 367.4 414.5 364.9 412.7 362.3C410.9 359.7 410 356.6 410 353.3C410 350.2 410.8 347.5 412.4 345C414 342.5 416.2 340.4 419.1 338.6C422 336.8 425.6 335.5 429.8 334.5C434 333.5 438.7 333 443.9 333C447.6 333 451.6 333.3 455.8 333.8C460 334.3 464.2 335.2 468.4 336.4C472.6 337.6 476.7 339 480.7 340.8C484.7 342.6 488.4 344.6 491.7 346.9L491.7 305.1C484.9 302.5 477.4 300.6 469.3 299.3C461.2 298 451.9 297.4 441.4 297.4C430.7 297.4 420.6 298.5 411 300.8C401.4 303.1 393 306.6 385.8 311.5C378.6 316.4 372.8 322.5 368.6 330C364.4 337.5 362.3 346.5 362.3 356.9C362.3 370.2 366.2 381.6 373.9 391C381.6 400.4 393.4 408.4 409.1 414.9C415.3 417.4 421 419.9 426.4 422.3C431.8 424.7 436.4 427.2 440.2 429.8C444 432.4 447.2 435.2 449.4 438.3C451.6 441.4 452.8 444.9 452.8 448.8C452.8 451.7 452.1 454.4 450.7 456.8C449.3 459.2 447.2 461.4 444.3 463.2C441.4 465 437.9 466.4 433.6 467.5C429.3 468.6 424.3 469 418.6 469C408.9 469 399.2 467.3 389.7 463.9C380.2 460.5 371.3 455.4 363.1 448.6L363.1 493.3z"/></svg>`,
    '#3178c6'
  ),
  js: svg(
    `<path d="M0 2.5A1.5 1.5 0 011.5 1h13A1.5 1.5 0 0116 2.5v11a1.5 1.5 0 01-1.5 1.5h-13A1.5 1.5 0 010 13.5v-11zM5.2 11.3c.65.4 1.35.6 2 .6 1.15 0 1.8-.6 1.8-1.7V5.5H7.6v4.62c0 .5-.22.72-.6.72-.35 0-.55-.14-.8-.38L5.2 11.3zm4.4-.14c.72.5 1.5.74 2.38.74 1.38 0 2.32-.68 2.32-1.82 0-1.08-.65-1.55-1.78-2.02l-.38-.16c-.58-.25-.82-.42-.82-.82 0-.32.25-.57.64-.57.38 0 .62.16.85.57l.95-.6c-.42-.72-1-.99-1.8-.99-1.14 0-1.86.72-1.86 1.68 0 1.04.62 1.53 1.56 1.92l.38.16c.62.28.98.44.98.92 0 .4-.36.68-.93.68-.68 0-1.06-.35-1.38-.82l-1.01.55z"/>`,
    '#f0db4f'
  ),
  json: svg(
    `<path d="M2 2.5A1.5 1.5 0 013.5 1h9A1.5 1.5 0 0114 2.5v11a1.5 1.5 0 01-1.5 1.5h-9A1.5 1.5 0 012 12.5v-11zM5.5 4.5c-.83 0-1.5.67-1.5 1.5v1c0 .55-.45 1-1 1v1c.55 0 1 .45 1 1v1c0 .83.67 1.5 1.5 1.5H6v-1h-.5a.5.5 0 01-.5-.5V9.5c0-.55-.22-1.05-.59-1.5.37-.45.59-.95.59-1.5V6a.5.5 0 01.5-.5H6v-1h-.5zM10 4.5v1h.5a.5.5 0 01.5.5v.5c0 .55.22 1.05.59 1.5-.37.45-.59.95-.59 1.5v1a.5.5 0 01-.5.5H10v1h.5c.83 0 1.5-.67 1.5-1.5v-1c0-.55.45-1 1-1v-1c-.55 0-1-.45-1-1v-1c0-.83-.67-1.5-1.5-1.5H10z"/>`,
    '#a9a038'
  ),
  css: svg(
    `<path d="M0 2.5A1.5 1.5 0 011.5 1h13A1.5 1.5 0 0116 2.5v11a1.5 1.5 0 01-1.5 1.5h-13A1.5 1.5 0 010 13.5v-11zM4.8 5.2L3 6.8l1.8 1.6.9-1L4.5 6.8l1.2-.6-.9-1zm6.4 0l-.9 1 1.2.6-1.2.6.9 1L13 6.8l-1.8-1.6zM6.8 10.5l1.5-5.3h1.4l-1.5 5.3H6.8z"/>`,
    '#56b3b4'
  ),
  html: svg(
    `<path d="M0 2.5A1.5 1.5 0 011.5 1h13A1.5 1.5 0 0116 2.5v11a1.5 1.5 0 01-1.5 1.5h-13A1.5 1.5 0 010 13.5v-11zM3.5 5L2 8l1.5 3h1.2L3.3 8l1.4-3H3.5zM11.3 5L12.7 8l-1.4 3h1.2L14 8l-1.5-3h-1.2zM6.8 11l1.5-6h1.4l-1.5 6H6.8z"/>`,
    '#e44d26'
  ),
  svg: svg(
    `<path d="M3.5 1A1.5 1.5 0 002 2.5v11A1.5 1.5 0 003.5 15h9a1.5 1.5 0 001.5-1.5V6l-4.5-5H3.5zM10 1.5L13.5 5.5H10.5A.5.5 0 0110 5V1.5zM8 7a3 3 0 100 6 3 3 0 000-6z"/>`,
    '#e69d2a'
  ),
  png: svg(
    `<path d="M3.5 1A1.5 1.5 0 002 2.5v11A1.5 1.5 0 003.5 15h9a1.5 1.5 0 001.5-1.5V6l-4.5-5H3.5zM10 1.5L13.5 5.5H10.5A.5.5 0 0110 5V1.5zM4 9l2-2 1.5 1.5L10 6l3 4H4z"/>`,
    '#26a269'
  ),
  jpg: svg(
    `<path d="M3.5 1A1.5 1.5 0 002 2.5v11A1.5 1.5 0 003.5 15h9a1.5 1.5 0 001.5-1.5V6l-4.5-5H3.5zM10 1.5L13.5 5.5H10.5A.5.5 0 0110 5V1.5zM4 9l2-2 1.5 1.5L10 6l3 4H4z"/>`,
    '#26a269'
  ),
  txt: svg(
    `<path d="M3.5 1A1.5 1.5 0 002 2.5v11A1.5 1.5 0 003.5 15h9a1.5 1.5 0 001.5-1.5V6l-4.5-5H3.5zM10 1.5L13.5 5.5H10.5A.5.5 0 0110 5V1.5zM4 8h8v1H4V8zm0 2h5v1H4v-1z"/>`,
    '#8b8b8b'
  ),
  py: svg(
    `<path d="M0 2.5A1.5 1.5 0 011.5 1h13A1.5 1.5 0 0116 2.5v11a1.5 1.5 0 01-1.5 1.5h-13A1.5 1.5 0 010 13.5v-11zM5.7 5c-.65 0-1.2.08-1.65.22v5.38h1.3v-2h.45c1.5 0 2.55-.65 2.55-1.85S7.2 5 5.7 5zm.05 2.5h-.4V6.1c.1-.02.25-.04.4-.04.6 0 1 .28 1 .72 0 .5-.4.72-1 .72zM11.2 7.3c-.35-.2-.85-.3-1.4-.3-.6 0-1.05.12-1.4.33v.95c.35-.25.8-.4 1.3-.4.45 0 .65.12.65.35 0 .22-.1.32-.7.52-.85.28-1.35.65-1.35 1.4 0 .75.55 1.25 1.35 1.25.45 0 .82-.12 1.1-.35l.1.25h1.1v-2.6c0-.72-.28-1.15-.75-1.4zm-.45 2.9c-.18.15-.42.24-.7.24-.35 0-.55-.18-.55-.45 0-.3.15-.45.65-.62.35-.12.5-.18.6-.28v1.1z"/>`,
    '#3572A5'
  ),
  sh: svg(
    `<path d="M0 2.5A1.5 1.5 0 011.5 1h13A1.5 1.5 0 0116 2.5v11a1.5 1.5 0 01-1.5 1.5h-13A1.5 1.5 0 010 13.5v-11zM3.5 5l3 3-3 3 1.1 1L8 8 4.6 4 3.5 5zM8.5 11H13v1H8.5v-1z"/>`,
    '#89e051'
  ),
  ray: svg(
    `<path d="M8 1L1 5v6l7 4 7-4V5L8 1zm0 2l4.5 2.5L8 8 3.5 5.5 8 3zM3 6.5l4.5 2.5v4.5L3 11V6.5zm10 0V11l-4.5 2.5V9L13 6.5z"/>`,
    '#c084fc'
  ),
};

export function fileIcon(name: string, isDirectory: boolean): string {
  if (isDirectory) return FOLDER;
  const ext = name.includes('.') ? name.split('.').pop()!.toLowerCase() : '';
  return icons[ext] || FILE_GENERIC;
}
